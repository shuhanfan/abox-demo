apiVersion: v1
kind: ConfigMap
metadata:
  name: generate-certificates
  namespace: pgo # {"$kpt-set":"namespace"}
  annotations:
    config.kubernetes.io/function: |-
      exec:
        path: fn/certificate.sh
---
apiVersion: v1
kind: Secret
metadata:
  name: postgres-ca # {"$kpt-set":"ca-secret-name"}
  namespace: pgo # {"$kpt-set":"namespace"}
data:
  ca.crt: "LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNwVENDQVkwQ0ZGSCszRVpqVFZLci9HNHkyWXA4V21oaVIvdzVNQTBHQ1NxR1NJYjNEUUVCQ3dVQU1BOHgKRFRBTEJnTlZCQU1NQkhKdmIzUXdIaGNOTWpBd09URTFNVFUwT0RNM1doY05NekF3T1RFek1UVTBPRE0zV2pBUApNUTB3Q3dZRFZRUUREQVJ5YjI5ME1JSUJJakFOQmdrcWhraUc5dzBCQVFFRkFBT0NBUThBTUlJQkNnS0NBUUVBCnQ3TUlIL3FvWUhWaGRKR1FUaHR1WjlGdjRNMTM2cVJ1WHdycm16TUNrcE1SVTN5S2NjWHNXRmxKb1pmRTZFSVQKMlZjMzZHRmMzTUl0cDNTbEZLNW84alpydzkrYjFzYlJNQnREQlppMkpOVjNPRi9FSkk5ZHJOSjFiTUN4TllYcgp1bTduR2UxYmhQWUREdDVRakNIOC9IQWd6cEx5enpzN3UvNk9ucE4xMGV6WktGNjluc2wwOWdxY1o0VWc5eU9jCjFPNXB3WVNPbDMrS3VFRkpZRWxOeXF3bVJnYXhhbG8wdE9waElXaU93SzVrcHhsTUlGWDRlejBaR2ZoWWgwNnUKZjRmTndQLzYxN0h4bStMTmt4QU5yeEJkTkZDQTVWZnhGZS8ySFVBeWN5dnV6Q3ZIaDlITnlXRysrNEwvdkNrdgpqSXlGOGtGd2JaL2s0Y3hBd1R5TTF3SURBUUFCTUEwR0NTcUdTSWIzRFFFQkN3VUFBNElCQVFCVzE2c1RpLzFXCjM5c3hFcnN6MGlYVGpjaHdldS8yL01yQm1hVElJZnQzWlJqaFZsWjNJbXZEWmp3dGlFRHZGTFFJclhnNkFGS08KcWJWMXpraFhTRTE5QlJ1aFMvNTBKRTVDeHVoT0hDNC9kVHoxUTkzMFd5YllvdkFaRlZzUTBtYjl3NmhHalQzQQpFd3RHem5heFg4TGk5Q1diRFc4T2JIRDdrdXdqZG9LK3VadGZMWUx0YVRXOUNWSlVIQ0VaVGxnOEhSMC96MFZnClczLzhldXNLbUpSNEU0cVY5aUp0ZTFPaXZIdUZEZkxPUGpZTDk1OVh2bEtLMGJYWldWMjVWRXVjUzJ5eEJoU2YKYlNhRUQ5TUhxQzRJcFl0RUF0YXgvT0lMYUhaYjhCeFBXUnJaMCtvZkZOc2VjZHd3bjRSS29WbTV1K05QdmdMWgpIbW5HN0gwaExkUlUKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
---
apiVersion: v1
kind: Secret
metadata:
  name: postgres-server-cert # {"$kpt-set":"server-cert-name"}
  namespace: pgo # {"$kpt-set":"namespace"}
type: kubernetes.io/tls
data:
  tls.key: "LS0tLS1CRUdJTiBQUklWQVRFIEtFWS0tLS0tCk1JSUV2UUlCQURBTkJna3Foa2lHOXcwQkFRRUZBQVNDQktjd2dnU2pBZ0VBQW9JQkFRQzUrbzlDRmxVMms5eCsKdDRqOFhGT2VGWUV3MnYrQzBPdXc0TmYyTDRIMWhjWStuaXdKVmhOM3ZNQzZvcGpwNkEybitOK3dLeG1HT3FqRQphdm9ZZThMWFQwb2R6d1pHMlJPVkUyS1hqUlpWODk2cmlDOS9NeGFrZm9oRWp1WEp1U3JhbGtPSS9yRENubk5lCm5wNHM1ZjFadlQvMmdBbnZOUFN5WHQwZGdSQ1JEd0VPQ1UwSlZueEJ0OTFOdlZUVVpqMmk4cVU4eHRybXIxb3cKUlovTzBwT3dPdHFrMW82dzIySEI3Tk9hMHB1S29KNVpoSjRLMUpoUE40UEhXVDBJOW1mb0RVOHBlOGM4UFE3TApNL3grVHBvRzJyNW44a0xsclFQckpVNkJDRWxKTTk1Q0tnQk1zaXJEeGsxUll0ZWFuYVVsMDdDUHpOSXhrb2F1CldLZ3p4N2ZsQWdNQkFBRUNnZ0VBUUUzR0lzK2QveFQ0OUVkNWNlaHFjUXAyZFBJRHpyTjJDdDV6VFlmM28zRHgKcnN6NTVQQ0NJckI4NHdzOVhBTUVWY1BUZEJJeTdScHpLQmJsQ25vZ1VGbjJBb0NHWnhDL21KZnZTdjlaYmJhNAprdzZ2Zlllb21JKzNoaHp5anVFYlZDRUlrT0dmTkd1YzhHWmZ3cDV6RHdoRWlYS1QvTVdPcGUzdS9qaVdCZEZYClVIaUt5Y3RJSS9ITFJkWEp2MHBPR0xKblo5T2RlQnI3NkRKRU42RTZSamQ1SzF2cW8zY2J1Q1c2cVh1Nk13clAKcUhXazZ2UnhxSXdQTVVZOThtZUJZQXRiTlh5alBLUkNLdHdXYTliV2ovQllGV3NXZ1A2R0NCTnZEVXhteGZuRwoyRHBZbnFLdGhsVjZRT0pUMVRXbU9uUGwzMHJST003Wmk4RUo3anVEZ1FLQmdRRGhRM296SDlxMEZVNjFGa0RSCkJiTWdJa2RPc05jdkxWWVZxdS9LQWhWbnlncEFkczltejRLaGFEQ3NwNjVOQkxCZDFBVmxHVWFramg0alF6Z0wKN2NQemJBYjVpam14Q1hJNkF3SkFwYmlnc3JaekNidDlCbjJ3Z216cncrMnNHVnFKQk1YM0FzblMxbzRpTzFXSAo1ZW96S0ZmTTM1ek5HdG9VSWtzdWpvYXl2UUtCZ1FEVFd0bjlNSzNnSWY3S0M2UHMwUFZrbU80M3YwaG9xbUxCCjR2R2xFRk9XTVJoQWZjYU9tb084Yld2ZEJ6bHA5NS9meDBkT29MMWsvUmQ3WTVPcWthc1JxTmcvMU1PNlc3MXMKVzhJdzQycktZK3prT1o2ZXNQMUVQYnB0Mk50TlptNlY0anJFdVlqRDZ6SjN2eG12YkVwTGlGUDdzWEh5S0pIVQpMRGljeENYQVNRS0JnUUN2MHF4QjFUNHVTMmRJbnRydWl5VmFFb2RYMjEzSisvZnlKNTdNTEw0cWFaK0EyM3RjCnd1RXlQSkdwWWFRQmg0UmxhQVRoK1UyVFNUNHF4ZCtzSitSSFRtMVBQdDF5Mm0ybTdBeEpDMURGVlZobENCYW8KS25YV1hLYkppdjhxMGd0QllWRm5VR3paUFJCcGxhaFh6MVB5cEMyTHdvbXY2YUtJRHBCaUFXc1BmUUtCZ0dweQpWRjNIV1pzTHBCWkFYSlFWL2JGbnNIcVZOVE81dExsdndrSmZBYW9nR2RYSlF1cHBlYlc1Nmx4TW1pYjdseUtPCmJDUjJva3l0aDFrV29yV0NYZ1VyNDVYcVk1V0ZSTmJCTkFHSldDeU12UytJc1pHOUZDRjljVnFIb0pQUDVoeEkKNzA1TEgwMkZORXJKRFhlamM1dXRFcGN1SEhSWTZIRlN3RVI4S1lNNUFvR0FlUDhLcDF2dC9rajk3dFNuemcwUwpTRlFZTmdzbUpVNzRTZGVHS2NYb1ZOcmtMTDhMZFFEM21RdmhnN24yRWhnSjFOM0hCbDEwTzBkcXdhTEEranc3CnZRVjd5SG9EY2ZtR0VHUm0wN0ozS0Q5Z0c0cFk0TWVwMUdHd1phUkZzdVFMS2NmUkhuOWZmS1p4V0k3SW5iWmUKRGd0M2tlenhON1ZkdEV0VmxtVDkvY009Ci0tLS0tRU5EIFBSSVZBVEUgS0VZLS0tLS0K"
  tls.crt: "LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNwekNDQVk4Q0ZCd3B0dkNsc3BtanJYeFNGeWF2dnVzaGlPL3VNQTBHQ1NxR1NJYjNEUUVCQ3dVQU1BOHgKRFRBTEJnTlZCQU1NQkhKdmIzUXdIaGNOTWpBd09URTFNVFUwT0RNM1doY05NekF3T1RFek1UVTBPRE0zV2pBUgpNUTh3RFFZRFZRUUREQVp6WlhKMlpYSXdnZ0VpTUEwR0NTcUdTSWIzRFFFQkFRVUFBNElCRHdBd2dnRUtBb0lCCkFRQzUrbzlDRmxVMms5eCt0NGo4WEZPZUZZRXcyditDME91dzROZjJMNEgxaGNZK25pd0pWaE4zdk1DNm9wanAKNkEybitOK3dLeG1HT3FqRWF2b1llOExYVDBvZHp3WkcyUk9WRTJLWGpSWlY4OTZyaUM5L014YWtmb2hFanVYSgp1U3JhbGtPSS9yRENubk5lbnA0czVmMVp2VC8yZ0Fudk5QU3lYdDBkZ1JDUkR3RU9DVTBKVm54QnQ5MU52VlRVClpqMmk4cVU4eHRybXIxb3dSWi9PMHBPd090cWsxbzZ3MjJIQjdOT2EwcHVLb0o1WmhKNEsxSmhQTjRQSFdUMEkKOW1mb0RVOHBlOGM4UFE3TE0veCtUcG9HMnI1bjhrTGxyUVBySlU2QkNFbEpNOTVDS2dCTXNpckR4azFSWXRlYQpuYVVsMDdDUHpOSXhrb2F1V0tneng3ZmxBZ01CQUFFd0RRWUpLb1pJaHZjTkFRRUxCUUFEZ2dFQkFKclJtYkQyCmZueTcrSUx0VkxhVUtKcnhKUnBwcnJZTlhKeVN1c3RKbDJTT3REK01UN3ljM1dRY1dkdVV6NXR0NXVuL2ROcFcKSU9qMTRxbnIzTDdWeloxRDlrSWdoYWo4cFFjMjZmZWxLSnVXU0l4Qk0xenVFOVBtVWlXa0lqMW8vOCtZL1FPRwpLNG1GT2FaSHZDUGZwTGFvUi9EV0JtNzlLYk9HbTdHWVJBdjBTeGIxZnJHVFJ0c3FkWTVmUXVpYzFtS0hzM1JqCkVZbFNWeGJzN0FhUVFpV0g0WkNoMVhpZXpESjdHSVI3bFFxeVRnbjNkNmxIcUYrcDBjZWVLcWxSMFliU1ZVc3EKSG5BcHdPR1V4WXZZKzBFRXE4Z1A0WUZNdmhEMUtoc1dzRzdjSlo2ZWZBczh5OFlxc2lQL01RK0tML09lOGxjTApIQmY5ZDUzT2ZPb01ydU09Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
---
apiVersion: v1
kind: Secret
metadata:
  name: postgres-replication-cert # {"$kpt-set":"replication-cert-name"}
  namespace: pgo # {"$kpt-set":"namespace"}
type: kubernetes.io/tls
data:
  tls.key: "LS0tLS1CRUdJTiBQUklWQVRFIEtFWS0tLS0tCk1JSUV2UUlCQURBTkJna3Foa2lHOXcwQkFRRUZBQVNDQktjd2dnU2pBZ0VBQW9JQkFRRFJaeTgzTlpxeUcvNGoKYStoTlhuOXBTRWFIMktEdStQcGFWelRVbjdpNzJRMEJxNHlwRnBJa2t2Y3FjYXJmQmZKUDB4OURkM2E5dEVVcQphRmRydjQvMWNzTnhOTGR0Y1ZTUURnTjQzQmZJbml2cG5CUlc0WVkzZ29wT0daTmkzd2lTQVhNR2VSUDJQM0Q4CktRbytLTFhiVS9KVjVaVytIS3FhTjQ4R1hmQ05td3lTUjMyTGJ3cXI1aGlCam1tUEE4SkU3T1VQeGxUQUJ3dEwKdHNsNXdPYzU0eFJWK1RmeTlab0JnbVJUNnVhZS95MDcyblJmVmxzdlNTNjQxcVVxOVNzclF4dlhOeEFmNGQxYQpNeW1uRGpQdGZjMVRQdnYxeDJPU25kM3g3QXpJZ012RXp3QjZRSTlWWkF0djkwdDVIV25ZNmhnOGpNUXpJOWpvCnNMTWFlZFg1QWdNQkFBRUNnZ0VBVGMvN0FwZi91UW1mNFVlNjFlMDBpVW5iTTZXeS83b3pSWmk4UC9wdUtoZVkKdHJNcG5MZVBiTm5UME1qV1J2T3R2QzNtb3lwa1RGQU5sNW1ZU3FpdmRQVEZYVzdLYm5lN2hhQS9lQXpKSmJwbwo5UEVUdWNrcUY3eUJhazRrcjR2VFluWDVhVUZhd3BtR2daMDZlaWlra3pEWmowTzE1aVErM1BtaVF5cHJOaUxvClIxUXZ6Tzc3eDV2WVU4b05OTFhWRDZGNGFGWEF5Tkk2RDZzcTVuc1hSei9vYXpURlZGQktpQWVvUnlsSE8xNVUKL3Z4ZzZKajdkRkw2emZLLzl5K053ekMvbHhDZnczY1l0TEJqTDYyNnRGM0pvS0RXWkgzck9qc3F1Q29RalkxbAorWFVWWHU3MlB2QmUxOUxDTkFsOFRmZVk4TFl1YUxGOTYxb0VmM2tDZ1FLQmdRRHgyTVl1UzZqVHljdDRtSlNIClFjN0lhWVdTQ01jYnYyMGhVRW85bTdsR0tuS0NDTEZrNVJhWE00THQvWGswc21tNHFpd3JNNXE4NUZYNWdRUTIKZVZ6SHVYalZiekduQUh4OHhOQ0x2TFAvbGRFQU0yN3FLV3h5a1g5dkN6dUt3c212WE5ySjYxcXk4REtmdTl6cwpGL1VDSGZvODNqM2ZOWWk1SWEwUmNoWTJrUUtCZ1FEZHFGcmxyT0dSMjlwd1VMbmdTOW01S1RmL3FJWUJ4c2pxCkpCSmJnL3ZRN2JuQ2g2eExBWjQ2RUN0V0dWK3ZDWHhzSFRGY21PdzNDa2tza1VDeHVDRFlqOXdZWXZPN0xjUjMKcmtiYkdFcDVjcHk2ZUxWVG53dUduRDIzdEVGREJ4SmtYNE1kb2tvRWtzbXdxUm5nMDd0aGtMNGF0ZlRXSTNDYgpZVGRVMGUxczZRS0JnUUREMG5zOWR5T2ZRUERRbC9NRHhjUXlRRWJYNU9XYlVSZUM5dWoyRTRZa0N6Q21tM1ZQCnRiTGlBT0tONDBSbDUrUjBrczJxdVdFY2UySWw0VkpRN1Ztem1qajkwTWdLYWZsaWFWWlhIeGM3NXNuUStOUmgKSStOY3JQVGJLK1F0U2VWV2FiLzU2T2lLcExUSTQ2dFJPMkMyTXlHd2NWNzF3Zm9QdFBYV2YyTC9FUUtCZ0dMTgpzYjdoUWljL1JlNTh2VzR5d1ZsYyt6NDF3NDQxS3NmYnptY0d2US9UZDlNem9PUktVMXAwYkt6VFlLaG9aUkxZCkxIR25KTndmOUtBdUd4VmRDeDhkZVRGUm9tMVVLRmhrMGViRnZDVElwdjRqNGtmbEJFRTdrZk02SVVFY2ZPRkwKQmVvR3RsRzFrTHZ6bExwNEJ2V2xqR2ZocGNKeVI3YXJMZnZjRzZaSkFvR0FLVHYzendiZGduT1AzcG5mWHRUMApSb0RqV05lRHlNaXBVcDFRMVVOSGdkS3luYlBINFVoWW9OaHFQeGtrMnVWeGp3WCsrclRJKzZVQThoM0haV2FhCnFDNzZFQ056bVRFTlp0ckQxS1BpZUYzSTdoYlRnY0ZaZEZiVHdNMTVIQ2x2WGRNZ21ua0lYR0tORlp6R3pZSGwKNnJONXV4dHJNUUtQZG1FVmpSNVRpSEE9Ci0tLS0tRU5EIFBSSVZBVEUgS0VZLS0tLS0K"
  tls.crt: "LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNyRENDQVpRQ0ZCd3B0dkNsc3BtanJYeFNGeWF2dnVzaGlPL3ZNQTBHQ1NxR1NJYjNEUUVCQ3dVQU1BOHgKRFRBTEJnTlZCQU1NQkhKdmIzUXdIaGNOTWpBd09URTFNVFUwT0RNM1doY05NekF3T1RFek1UVTBPRE0zV2pBVwpNUlF3RWdZRFZRUUREQXR3Y21sdFlYSjVkWE5sY2pDQ0FTSXdEUVlKS29aSWh2Y05BUUVCQlFBRGdnRVBBRENDCkFRb0NnZ0VCQU5Gbkx6YzFtckliL2lOcjZFMWVmMmxJUm9mWW9PNzQrbHBYTk5TZnVMdlpEUUdyaktrV2tpU1MKOXlweHF0OEY4ay9USDBOM2RyMjBSU3BvVjJ1L2ovVnl3M0UwdDIxeFZKQU9BM2pjRjhpZUsrbWNGRmJoaGplQwppazRaazJMZkNKSUJjd1o1RS9ZL2NQd3BDajRvdGR0VDhsWGxsYjRjcXBvM2p3WmQ4STJiREpKSGZZdHZDcXZtCkdJR09hWThEd2tUczVRL0dWTUFIQzB1MnlYbkE1em5qRkZYNU4vTDFtZ0dDWkZQcTVwNy9MVHZhZEY5V1d5OUoKTHJqV3BTcjFLeXRERzljM0VCL2gzVm96S2FjT00rMTl6Vk0rKy9YSFk1S2QzZkhzRE1pQXk4VFBBSHBBajFWawpDMi8zUzNrZGFkanFHRHlNeERNajJPaXdzeHA1MWZrQ0F3RUFBVEFOQmdrcWhraUc5dzBCQVFzRkFBT0NBUUVBCm9LRmRXMmxNdXdha25WYkRubDlsMmQ2VHZMb2lpM3IzZk1BL05VSXAxaGd5bFFpdUx0aTc2ejlhNCtXa1ZKdUUKcEozZGl6R1E0OC85allGMndmWG5XNWljUWRGSXArR1NRbWxxSUJoQ2VLUlYzdE1hamtSZzM5OFN0TXBQQjh6WApZWHBmY3Vra1M0R05FaUo4Zml1VzZ2NXoxdWdVQ3lzaVlvUU9OazNEMFh2ZkV0M1c4UlJaaWswWFFuOHBpQUprCnZpazBUZERhTjk4SWovQzZLbEJaQWpZbmtQaWhJS254S29jbHc5QkFlVnhjNTZEU2VNWUhEbzk2SlMyL3FMMWgKOUhzbFJWOXM2dHZtU1dwTGNjcjU0MGlWSlFXZU4ranFKZkNZNU54OVlHZW55V0lnM013dnJ6Q0xKd2tUSGw4NQpOaGxJR1orV1ZNeVcyeGR0bk03NlpBPT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
