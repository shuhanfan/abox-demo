apiVersion: v1
kind: ConfigMap
metadata:
  name: generate-certificates
  namespace: pgo # {"$kpt-set":"namespace"}
  annotations:
    config.kubernetes.io/function: |-
      exec:
        path: fn/certificate.sh
---
apiVersion: v1
kind: Secret
metadata:
  name: postgres-ca # {"$kpt-set":"ca-secret-name"}
  namespace: pgo # {"$kpt-set":"namespace"}
data:
  ca.crt: "LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNwVENDQVkwQ0ZCMTBWTFptNVdvcWhMVTdQZmRzd29UYS9XMlhNQTBHQ1NxR1NJYjNEUUVCQ3dVQU1BOHgKRFRBTEJnTlZCQU1NQkhKdmIzUXdIaGNOTWpBd09URTVNVE16TURJeFdoY05NekF3T1RFM01UTXpNREl4V2pBUApNUTB3Q3dZRFZRUUREQVJ5YjI5ME1JSUJJakFOQmdrcWhraUc5dzBCQVFFRkFBT0NBUThBTUlJQkNnS0NBUUVBCnV6ZUt4em5hRjE5dGFENFVpSUxIMHg0MHV2clhOc0VsdyszWXRKNjlzYkt2Tm0vQ3QybEdzdnlsdFlNQUJxeWwKTDlKT3JFYk1mbkN1dnBROXFsb3lzdjNLUTJJQ0hIR1RQY3hMT1pJTjkwTGt4WVlvandJcWhnckdaQUlRSkdwRwo1QnZBTHJzdG9PaFc3d3VaVGhNWU9CUlMrcVgvUWhtYU16eVFlc2NBN0ZMMDMzU1JpcjhCZ3lsbmpmSXhGRHNNCndURTMva1luTklpZG5oYUtiakxsVkVjYklVNGp2Mk9UWmw2NUM5ejNiU2VNSHZlN0pvMW9mSWRVeTgzT0JtUmkKS2tNUzdFRHVHZWdPUk9KTmRhcWd4b0s4WCtERVYyRnFCVCtrS1dpSEhSSlU2ZGc0S01sYlVNSGVObFNkdXE5SgpmTzZ1Q3RlUldrRW1XRXo4eVp4elh3SURBUUFCTUEwR0NTcUdTSWIzRFFFQkN3VUFBNElCQVFBcWJaYXZSSkRzCmRwY0RPODlpTFYwYURzeDlzd3NzeVYwTit0b3ErMGxSMUVCOENHbWIzbUZBY2VTNDhPd0ZoempENEdudm9uQVoKcjluN3dzUXRtckFRcFdIR2R4R2NvSGNCQVZ6T3RDS3Jzc3NRaW9LZXhaSUVtSlRXQzVSTG9MRTZHZ0g4bVBlOAo5aEQxa0N4TzRJM29DMldDMHJpZWx3MlNvclZBOFFEaEtkc2V3WHFvNko4TXN6TlN1bG9PZnV1dnpSYVI1MDh3CmZ6U2JRVDN1NmdCRVZSNjQwNVZxNXM1a0R4WjdDZjIxdHVMeXVsWXFaampCU2haZ1Q0K3FKeThjem1UTkg4ZFAKaGpOcnovN25IM0N3ZXZ3TGRLcEVtbGRib3lZNTNTZ0xTeFVWNndGV2NIb0ovVnJvbEdSVVd1WFNRcERVYjcxYgphOHc5cGl1WTVaVlIKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
---
apiVersion: v1
kind: Secret
metadata:
  name: postgres-server-cert # {"$kpt-set":"server-cert-name"}
  namespace: pgo # {"$kpt-set":"namespace"}
type: kubernetes.io/tls
data:
  tls.key: "LS0tLS1CRUdJTiBQUklWQVRFIEtFWS0tLS0tCk1JSUV2d0lCQURBTkJna3Foa2lHOXcwQkFRRUZBQVNDQktrd2dnU2xBZ0VBQW9JQkFRRElldk9zZWt6L0wxWWQKZC9pLzA4OHRKdmdnNllueE9TVUZMWmI5Z085SWZMSWFEVEJjcjRlU3oxZnBncXlrYlhmMy82VzJCVm4xazdxZwpvZ2x3cHJtUDNRRXFTcHZWQ1R4Vmo4S09jOUMrVnFVK1FrNWlNY2IrK2FpM1Vid3ZjSjZkVkZXZWZFWDY1RHdLCk1OQ3hIRkpTUm0ySWFubmJGbzhzZGl5R0lOaGNOREg0NTFvdmcyMEJzV1NaeHNBb2Jjb0NHblgySUVmc0puM00KUWg2SDE1N0VEZEh0Z2tqSHhOeXNUb0pGaGRiWlZCTFpnRjhTSGV0NUZWblhQbjVYcGtCR2xvbkRNcHJkSTZmQgprTHVTNUR0dzhZZWtjQkJDMkpDc0k2TzN5VEp3LytoQ1oydm1SZjBGWjVIcmtXeXlEYUI1NG8vS25Rbm0vUnhUCmVyVnFYcnkxQWdNQkFBRUNnZ0VCQUtGR2o1bnp0TmNnVEdWZWFzUmVidTdDeDU4cVlDYW1zc3BNbDRlTlhuRHcKcHhIZ0JFUzdqQk9sS3ZLVmhhNnN4WExDdkpzR0NRMU9iemJqd3paVldUZUxNWEhGSFVFdXNkT2UxNE5qVmN5WQp4VXVsYVlzQ3dqUEJ3V0RmcHNSL0U0bzdHcmxvL1o3TVZpUllpcm0vcjlXeUJGRldYbnJKMWhtTlkxbnZPRDVLCjdLbVB5U1ZKNlV1QnpPT2tLTnhMa25uU3pEa1BoVGFWamlMZFlIQllTYTVzZGsvbmdQYTMvbnVZbnRIL056bVAKRmNDWUtyWHhZVUNIUU8vWDhZVDVBL2xkYTBrRHdvajdHaDdMVlEwZEFPNEg0YXMwSEpMaDBtS01MUEtUcENjdQpVSE81T3YvWVAwbTROclNYNXA3bEp1dXBRcDkxd2N3NXErOEkyQTA0VWdFQ2dZRUErWXZzK0MrSkQ2VGhTL21GCm52b1NWYlBmbG93REQ3UWVMWS9wNWplZTUvVW1wTis0SHprT1IwTmx2ejRIWHpWTm93UGNsL2xndGduTUNtUk0Ka2lPbU83cStuZjFkb05kMys0cVNKODFaWFBDZCsvY1VwRGlrSW94Zm1LVHphWHNZa212MDk5QWh6M1hta3pVZwpQYWFuTmdyWTljU3RsUUh6ZGJObW5JT1QzRFVDZ1lFQXphb3hQQnJ6anhmV0k4SVIwb3k2QldyeUQzM3lQckRxCjRSU3BNcVhuRDBiS2NpQUluTjdwTnF2WEkyYzRXQ2w0S0RIQTlGWk9BWm1iVENSS3luVEE5aFJDVEMrN0ZBa2gKTU9zSjRkWGJoZCs3cU1JQ2V2ZHFmaWZ1TVpENWsvcjNSMHlrZHRSaU1Lc2NlcGZ2YzUrUFQ5Qy90eFlSdG5LSQpMNlEwL0I4R2JvRUNnWUVBMlluMFl3cTFWZkRyQWhzY005RldLR1hzbE1XcmFZWWdCS0gvU2RUVTd1cVQ3SWltCmJubURpL1loL1l3cVN3SWhrdWtyNVVQYzNmUStiaFN2ZDNvaVVORmptRUNsM1MvWWhXeHdLc2hsalpLb2RsMFgKSG0zT0Q5d0UvZ0ZWdkc4MXBYYjlEd2JlWW9jcUlNdmdOajVRWjlrZTkyaWoxVkRsRm9iMC9aM3FTTDBDZ1lBZApnSEZwbHRBalVaOEZLQnlZWUZsNjEzbDdvV3h6Yzd0dHFDSVJRdDBmUXQ5ZGVaemlxOU0yWlhZSi9RK0hEZ1BQCmVEdWVrUmJGZ2Z4Vjhzckx1ZTNJSHVYWHVlMFRGYkF1TFRrUXJUVzlRWGZRNEd1c3Fmc2J0NnlpYlpKdm1NdUoKN2NPVnpDZDlwYjRERS9Ka1dwb2JMKzJnWE1rVHErQS9QVVhnZUs3YWdRS0JnUUNZVEFFMnlPNG5lK2pGWmZxVQpMSlNiWldla0IzTEJUYlB5TDV1VXR0d1ozQldXaFNJUEZJZWlMV2l0TmU1dmlFRmpSdlJiK0VnaVFGK0NFTUpECkZkWEs1bml5cmxEZGU1aWkrQ0pvQnBJNTZ5Z0lkSXpsY2tXa3BKanlYTlp2Q3BlUGVHOGF0N3JGQVJ2blcyTTEKLzJpcHUzUlZrM1VRUlVPaXRjZFJOeEFCamc9PQotLS0tLUVORCBQUklWQVRFIEtFWS0tLS0tCg=="
  tls.crt: "LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNwekNDQVk4Q0ZIdzgrejF2V3VRdDdJdEQ0bkM2VjR4NWpyTWhNQTBHQ1NxR1NJYjNEUUVCQ3dVQU1BOHgKRFRBTEJnTlZCQU1NQkhKdmIzUXdIaGNOTWpBd09URTVNVE16TURJeFdoY05NekF3T1RFM01UTXpNREl4V2pBUgpNUTh3RFFZRFZRUUREQVp6WlhKMlpYSXdnZ0VpTUEwR0NTcUdTSWIzRFFFQkFRVUFBNElCRHdBd2dnRUtBb0lCCkFRRElldk9zZWt6L0wxWWRkL2kvMDg4dEp2Z2c2WW54T1NVRkxaYjlnTzlJZkxJYURUQmNyNGVTejFmcGdxeWsKYlhmMy82VzJCVm4xazdxZ29nbHdwcm1QM1FFcVNwdlZDVHhWajhLT2M5QytWcVUrUWs1aU1jYisrYWkzVWJ3dgpjSjZkVkZXZWZFWDY1RHdLTU5DeEhGSlNSbTJJYW5uYkZvOHNkaXlHSU5oY05ESDQ1MW92ZzIwQnNXU1p4c0FvCmJjb0NHblgySUVmc0puM01RaDZIMTU3RURkSHRna2pIeE55c1RvSkZoZGJaVkJMWmdGOFNIZXQ1RlZuWFBuNVgKcGtCR2xvbkRNcHJkSTZmQmtMdVM1RHR3OFlla2NCQkMySkNzSTZPM3lUSncvK2hDWjJ2bVJmMEZaNUhya1d5eQpEYUI1NG8vS25Rbm0vUnhUZXJWcVhyeTFBZ01CQUFFd0RRWUpLb1pJaHZjTkFRRUxCUUFEZ2dFQkFMTmtaZCtDCmdMeXB6aUhIRFdSQjMrQXpnOUlwQkFYS09rc0JMQlA5YkdDdk9hY3huVjhiZWlrYjMvYXVpS1NxRUd6SHo4SDQKaUJoMTNlelZGYW1wcGdjdjlHaEdGYzZnSmV2UmZEOExpcnVERTZMeTVjNFdVYXUyREZUeWoyOGdHdjlSTkpTNQpCTUpybUJmeEtCRjFTK3RqaHAzbzBDdDZsdzd5Uk5pa2I2K1g1YWtXTmlkT2VzMmp5U1VDbHdobU84em14T0o3CndUSm9JTzg2L3g4TTNtNWd1TTIwdFRvRE5KSlRPenJZNUduV1B1TlRjdDJ3WEREYzA3K1MzMTkyaWVkOTd0T1AKOTFVM3VkcHRkQkZ2UG5jRmxUQnNkRjVsZVc1RXVGVzJzMm45ZmpEY1Z0WVZSajNvUXdPUWVMbXR5cEt6VC90Lwp0UzNHdUo4NTBvd0FwaHc9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
---
apiVersion: v1
kind: Secret
metadata:
  name: postgres-replication-cert # {"$kpt-set":"replication-cert-name"}
  namespace: pgo # {"$kpt-set":"namespace"}
type: kubernetes.io/tls
data:
  tls.key: "LS0tLS1CRUdJTiBQUklWQVRFIEtFWS0tLS0tCk1JSUV2d0lCQURBTkJna3Foa2lHOXcwQkFRRUZBQVNDQktrd2dnU2xBZ0VBQW9JQkFRQzV1WGc5TTcxalhZY2wKK1MrTWYzM3hVN0JKYlJJNTVWa0hCZk5wQ0FCMk9JTlE5MGtsQXcrK3ZqdE5JWktOc2NydDVWamJvRTlOR2NBKwpGNVNsZjZwdnd0WVFYNXF4NFRYeldGcGhTZ0ZMWnlNeEZ4US9Sa1h0a2Q1L2xDOEpKSkZoQkhqN1RibzVwT1NICjd2Ym5hNHhJNUZpRmRtbzBLMmV0a2FMcU9kOGlMcXBmSGhRL0RpQ3dpREZWVjBvZHIzWjNDOTl3Ynl4Tm5vdDkKWCsvY1R6OU1MQ2VaRzhsYmhoRWhrK1p0bU9NTjhTajN4N2dFa3F4YjROdXU3MlhzRmorQWUyM0xmWm1nOU01cgp3cXM3eU4yUG12cVZmQTVVbU1vTTNyZ0FpNUtGTTJrUVNJMFNxWlgwUmxLL01YL1AvTHA2bmIzN1JHQ1RqSmpnCjJNQ21yMVl2QWdNQkFBRUNnZ0VCQUlSL21CTjVyUnlOcGhSbVFSRG9CODY2V09NWmFFNWJtL2NSdk1UcXk0R0wKOGNzNmtEbFNoTkljM3l1NHp0Zzl4anVRU3FOdExBWWlYKzhzWFlUd25vUmJLT0xIZ2hKelRFME9kSFJDR3NoVApqVnpCVFZXUzZlS0NGWTFKQjRGclVEZzV1Nkgxb3V6ckFZc2s1WXJXUkYvZ1lITGV0d2YvQzFsZHRDK01GKzlHCnlSdGNnUnYvaG9YL3R0Z0JUdE9oNys4TVBJZlQ5V0c1MVFxYTUwcWI1Z09WWGxBZk1sSy9xcnRGdXZKY1J4ZXUKbkUycGE1Tk1Id0dETTdNY3BNSzllbDRvbkJBWWJid0N3OU5FLzVSZ1M1cVVEUW9taUEzQlBBV0hoM1pqb21tVgpaRGpHdVdVbERwclFIMkJhTU80SjJrcXl6aW5sR3dPamsreFlkc09YeVBrQ2dZRUE3eWtwNlM3YldVclBmV1lJCmpYYTV2NENWRklVdzBpVUJtQzlFT3pIazJHdXp6YmYrSTV0R1NRZjR4QloveUxyS0lOdTA2YzBMU1BpYk5SN3UKYVpmT3JOQzhqNGdTNTdpTSsrdmU4a2R2cGxBMnN3SDBIRDJReXpjUWVZejhVczBTN1p2T2ZhMzlQVURLSlpIMwpCUVkyWlF2blJERnZQTGpxN1REVXFvN0Y0bE1DZ1lFQXhzMGY5b1RoVEI5WWM5cFRQK0ZXM0ZrNDFKYUpoeEJQCjg2dG9reUcvOWpVNStKTUFiYllJUGhhemwyRjlNZnFDRjZGN1hJelk4U0ZUYUxZVDJycjVWR1BVZVFVdnpaS0gKQlk2WTZIcDlZdFpya2NLOTZrSTJ0OFEwY1FBU3JNRVJ0MTd1Zks2Vkh4V3YzTnlVTW5xOVA1RCtVWTA4UTJlRwpoVko3NFlJQk9UVUNnWUJNanIzRzBtUVBFbDZYUXJsTUo0eFFYQ1hjMnNJRkV5bU9nTnJ6cEFZZ3JXRnlZZ3F0CmRVQXJrcXkwZ0l0SlExbis2TFhoL2V3MTRMYzJhdjlndCtMRitVL1RGbmtPeWtuL1BzTXdoV09kTnFJNzdVMHEKV1I3bm5tbmNyeC82bFlFUXBNYVYvc05JLzF0MmFXSk1ybTl0SzBGTjJCRkd1OThnTEhoM1hKckYxd0tCZ1FDNwo0TCtFU3JCaE1INTNmcTJPZ1hlRlp3eStYRVk4enIzQW13MkpmeXZia3hIbVNZYnVLRXBCNDFKMmpqdXpML3dpCk9RcE12UStKVXVWdzRDS0RaSkNkb0hyOHBGbzQvWEY5WHZaRFB2K2dtT093TFVzdVNNVk5ocS9JMnpqSzZ1dkQKVUlReWNRdWRCUEhlMk5kMW5XbWMyWHAvdCtwc0NUcW9aUHVPY3o2VXdRS0JnUURBLzBRektBNThwa0MvT0x2ZApxV3MyNVdlT3gzdlRWOVRBTE85bVphblFBVnNrbmxPaWFrS1hRSXl1dzN2Wi93KzROYTRFbE93TXVJaHgxMTFCCk5rWURzb2dRYzU5eXQ5cjBNcy93UnZxendRcHB6clNwTXcxTEdmY2lGR1FRVmZqQ0M4UTcvTXplQ21sZ1A1REMKWC9hOHpCZEFrY2Q5WlpQSnMwZnpHcTBaZkE9PQotLS0tLUVORCBQUklWQVRFIEtFWS0tLS0tCg=="
  tls.crt: "LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNyRENDQVpRQ0ZIdzgrejF2V3VRdDdJdEQ0bkM2VjR4NWpyTWlNQTBHQ1NxR1NJYjNEUUVCQ3dVQU1BOHgKRFRBTEJnTlZCQU1NQkhKdmIzUXdIaGNOTWpBd09URTVNVE16TURJeFdoY05NekF3T1RFM01UTXpNREl4V2pBVwpNUlF3RWdZRFZRUUREQXR3Y21sdFlYSjVkWE5sY2pDQ0FTSXdEUVlKS29aSWh2Y05BUUVCQlFBRGdnRVBBRENDCkFRb0NnZ0VCQUxtNWVEMHp2V05kaHlYNUw0eC9mZkZUc0VsdEVqbmxXUWNGODJrSUFIWTRnMUQzU1NVREQ3NisKTzAwaGtvMnh5dTNsV051Z1QwMFp3RDRYbEtWL3FtL0MxaEJmbXJIaE5mTllXbUZLQVV0bkl6RVhGRDlHUmUyUgozbitVTHdra2tXRUVlUHROdWptazVJZnU5dWRyakVqa1dJVjJhalFyWjYyUm91bzUzeUl1cWw4ZUZEOE9JTENJCk1WVlhTaDJ2ZG5jTDMzQnZMRTJlaTMxZjc5eFBQMHdzSjVrYnlWdUdFU0dUNW0yWTR3M3hLUGZIdUFTU3JGdmcKMjY3dlpld1dQNEI3YmN0OW1hRDB6bXZDcXp2STNZK2ErcFY4RGxTWXlnemV1QUNMa29VemFSQklqUktwbGZSRwpVcjh4ZjgvOHVucWR2ZnRFWUpPTW1PRFl3S2F2Vmk4Q0F3RUFBVEFOQmdrcWhraUc5dzBCQVFzRkFBT0NBUUVBCmQxQzRNRm5LbW9NdDRoNm5PRXAvVFhFbEh6NkU0a1Z5c0I0SXVhR25Qc203bXVkdE5GakNwNlVrRTNHc0dtZDQKQWFuSGZFS1A4Mnpwblh0d1h2cC9oTTMvY1VGRmd4UjFzYWxjWjVYUnlRSS9KY2RWUmpBVENpc1dTdU1BcndDSgpWVG5uREdJZ1g5UVFINkNGT1p3OTA3NTQ2bUE4RmswaGh1b1cvcHJJbDlFZ1l4NXhtUmNzaHJZY2pMZk83Ym5UCno3ZEFweUdMdEU3MTZIL2xDcW9TTW81dmk4TGdOR2UybU9hUlVEbWNyUG9lZDlyTDg4b2tMYmJQSnNNNlJadEoKOGZCSzNFTXVqbmRTZGVGRmgxVlZ2dTFmMnNhYjZNRnl1SS9UUHhST1ZsOHVwQWQwR0FXc3FNU1hyOWc4aVVTMwprUncvd3dOUHViOE1zKzl0MkJhTkNRPT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
