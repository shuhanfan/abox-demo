apiVersion: v1
kind: ConfigMap
metadata:
  name: generate-certificates
  namespace: pgo # {"$kpt-set":"namespace"}
  annotations:
    config.kubernetes.io/function: |-
      exec:
        path: fn/certificate.sh
---
apiVersion: v1
kind: Secret
metadata:
  name: postgres-ca # {"$kpt-set":"ca-secret-name"}
  namespace: pgo # {"$kpt-set":"namespace"}
data:
  ca.crt: "LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNwVENDQVkwQ0ZGbDhoS0RKa2hPak1iM1U2MWdFODBxektjVlFNQTBHQ1NxR1NJYjNEUUVCQ3dVQU1BOHgKRFRBTEJnTlZCQU1NQkhKdmIzUXdIaGNOTWpBeE1UQTVNVEl6TmpJNFdoY05NekF4TVRBM01USXpOakk0V2pBUApNUTB3Q3dZRFZRUUREQVJ5YjI5ME1JSUJJakFOQmdrcWhraUc5dzBCQVFFRkFBT0NBUThBTUlJQkNnS0NBUUVBCnBROTBLbkpKVUNUd2VyOFoydUtOMzlKdW05azQ2WE9qVzRVZnpsUzFIYVRpamVoMkY1WktSMnV1aGlSS0wyb3AKcGNnWEVsNTc5TkV2YlA2Rm1mbVYzU3ozVSt5RlBQVmticzY3YkpJM2F2SlFsdXdNZ0ZpNm1GaUQrMHIrTDRlRApZQlhOcFVOZ3ZvbjVlcHpjeWtNbnNtSjJJTW5PV0FSc29nTjM3aDJNODRndzMzYjBtVkh3TnprM3paREtIYW10CkpXbFprU1BTRHpMdklybEw3S05aZWZKWGs1NU1Da2V4OStXeU5lTzNORzF3L1hnVzlpNllMUFBqZEZ2aXRHdjkKakRkaFIvU3RFL2xQZVFhQ0lQWmk2dkJZQnR4T3RtcFFVcVFWQnhPdVU0dkgyNk5IcHhETzdlb0ZhUDhKSGRvQwpXeWh1enF4NTRFS3h1UmgzYkFERzB3SURBUUFCTUEwR0NTcUdTSWIzRFFFQkN3VUFBNElCQVFBZTdIVXRCL2wwCjlZZmt6R2tJZnI2NEdIRGx3RkgwYk5uME1xUmM3SUJTdnpOa2REVkw1UEZrSjNSSDBGOWQvbHJ4K0pwaVVpRnIKNCtsaTcxa2h5RS9RWjFlckg4TW5zeTJVcDdXZnJKY1VzNHhrYy96RzdKS0oxd2o0TlRhMGVPSUx2YjBaY2pEUQorNWxySzBMaisrTTdVL2U4TWpraHpSQjFoZ1dGUVhlOVdGWHRibGV3RFlzV0J2MmhvK09SbU4rVUpLeGp3Q3Q3CjBuNklPb1hZbWNYTEZRTy84WlpNMHVYd2VqU3lXYlQzcFA1VXZrT0NyMnB2blNPQnNCeUt3STJvd3Fud0NBVTkKWVc4V0VUZ2wvWFBTR2l2N04vcllzVlJjK2ZlRCtLa3pDYkh6OGhjdXR0WDU3T2JBUWV6ZW8wVmhMOG01eUVkaApFT2drR1Fmd1ZJOUQKLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
---
apiVersion: v1
kind: Secret
metadata:
  name: postgres-server-cert # {"$kpt-set":"server-cert-name"}
  namespace: pgo # {"$kpt-set":"namespace"}
type: kubernetes.io/tls
data:
  tls.key: "LS0tLS1CRUdJTiBQUklWQVRFIEtFWS0tLS0tCk1JSUV2Z0lCQURBTkJna3Foa2lHOXcwQkFRRUZBQVNDQktnd2dnU2tBZ0VBQW9JQkFRRGlMT0kyMXlQQjVEVzMKeVc0MmtiNkwvMndpV0ZPcFdtSktKNGs2eHdEYWFYaG5KbEEvRE9mcGJQOVZJSkdlcHppSzQ2d3V6VGRXckd2dwpPVXc3S0t3WGNOSlNzOXA2N0NhaVRob2FtKzIyMCtKVDlidnN5VFE0aGsrNmZZaWRxK2orUFluNzNTT3ZlUEJQCmRJUVVFWUJoU0dtY1dSdS9yL0RTdjFwSDUvL2QzcGRQQWJwSDZiWmN2bkVpNTU2dDVIdXh3N2FaUEQ5VEZhSSsKQ2cvanhIYVE3MHljZjRtTjQ3cDA3MUJHcXo1YkFLc0xNWDFJdGZEd28xUUYxSXFxTkhqMlVCa2dlRk4xWlBQYgpCTm5sQXJNYW91S09UOVJHWmRBVEZEemkzTllmUEpQWmRWTll5cXBFK0JqcDRPU2VCckVudXA5RjNOOGRaelAwClp2WnN6cHVEQWdNQkFBRUNnZ0VCQU1RT3VFRmxtUjk0SFlDbFlaNTRGRDd6T045RXhiRG1JcEc1VitIVm84MncKNDZnMnRCVVRzT3pOaVVCWHJTTmtQVVZZT21lUGlNcmZSK25ESVd1ZXhCN0ZzK3Z3OEJEaUtGTkZkS2RnUjEzVwpxaml4cVNlRytuZU5KZ3U0eWZZemtSTGljWHdjbzlSMTk0cElyRDFoTm5JZC9UNkVsK05BTm5mWlcvODlBclZsCm4zeUdodFNYM1lXOEJyZ25vc05jenFDbHVmYmVTakcyUGMzWHdMdHNkOEpmTUtYaFhOMkx0YkJUamNNQVJFanYKa21kbzBOUHJPcW4zMDlxUnNHUGtJQTlaSDl5N2d2TnBKZmxNVk5nZFNYVXgydlIzQTNDUk1ZTFh4cXhGOFo3SwpJdmxuZXE2dG9WckJSREdmbzFLY3NEYlVYTUdyMzRQbzlmY1NVODZIb0pFQ2dZRUE4MW1FU0Y4Y2ZhZ2ZQRlUyCkZ4S2oxU3NHUzVxQi8wUGlhR2ptRWswaGM2SjZ2SWc5eTJVWXg1TGhnS2JoTk1ucTdwV1pURmducktGUUdUeUkKWVU2UjYySC9HRkp2RU1sYXNNaUYzc2ZYU2JPcWcrdkpNVHBXNkJjRndpOE1kVjZNQVRacHJFYnN5Ty9Od2hnRgpBSFZmaTN2RlUrV1hXc2dqcUxoZnVCNHVHQThDZ1lFQTdlN1B5NGlicmVXWkRIWjF2SllnV1lqMjQwell3d0xPClV2eHY1Q2lyZktRM0VPR0VNcFowU2J4K1J4QjJuS1V4UTJoM2dIUWhBWFZ5SGNPb1lkSzVTck15YU1ZTnpkMnIKNVJqUCtjQkVwZzNkNFpwZzl4QkJWS3pYQk1Gd0p1ZzgyQ2xQeVdYT3htMjdERzAxU0MycDcvTk1hNHp2UlY5cgpOVnorcERuQnNVMENnWUJkMnB5R1BRaUQvaDl0Nlg5ZkRyVlpOYXJMNWQ5VlVCMDJINTc4Vi9zYTJnTjBTeWRxCkZxZWo4U1kvdEIwUGV3QzgyNzJ3RUIvZEdLb0gwYXpYdXJIVWtvc01HbDd6bm5UMzBaNnYrV3N5NWJSU0JOSW4KeGxSV1Z1ckZwZGVzUExiS2tPM1luOUlhL1VIaUpkbG4vOXpGc3dxNy9NU1BJcmwrRFAzOXlNWUdTUUtCZ0dORAo5UEdIWnR2Z0pFQXMwK1lBQkRNV2oxbzVYMTNNdCtPcmFjc1lwS0wxcC91aytwQlljTitxZ2t5SHM5U2Fucmp1CnhweVMxb3BUUTI3amlFWjNzZEpXZkx0MWxhREQwTWxkMXJidDNqWWhKdWJPajVIRCtGMnBWbk9uZUhEakJ5OXYKM05lN1g4OHRUSkpjcFpRZGFQNncxTHN5SzBrWURCUlJYZk9LSFNNcEFvR0JBTU55UWRya2drYkJYTGhFQzVydwpLWWlvYjI2NGZRUnBSejVGZkgxRlVBem5GYlBqbE5Yd1dscHlwODU4djh6TXZuVjFEUjFlL3FuQUFLbWpJWHAyCm9sTC9IZFluNndKRWxiQ1JNUUFiVWVaczNGeDZ5TG5tZVFsZ3JDc3NOTGt3SnRZbS8vcFdxYXFFNVB0cDUwZXgKdDJkdE9YT25WZVd3TVoxUUJSbHc0ZkxICi0tLS0tRU5EIFBSSVZBVEUgS0VZLS0tLS0K"
  tls.crt: "LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNwekNDQVk4Q0ZIWUsvZTJudDJFN250U0dVWi84d3RLV3FsNEFNQTBHQ1NxR1NJYjNEUUVCQ3dVQU1BOHgKRFRBTEJnTlZCQU1NQkhKdmIzUXdIaGNOTWpBeE1UQTVNVEl6TmpJNFdoY05NekF4TVRBM01USXpOakk0V2pBUgpNUTh3RFFZRFZRUUREQVp6WlhKMlpYSXdnZ0VpTUEwR0NTcUdTSWIzRFFFQkFRVUFBNElCRHdBd2dnRUtBb0lCCkFRRGlMT0kyMXlQQjVEVzN5VzQya2I2TC8yd2lXRk9wV21KS0o0azZ4d0RhYVhobkpsQS9ET2ZwYlA5VklKR2UKcHppSzQ2d3V6VGRXckd2d09VdzdLS3dYY05KU3M5cDY3Q2FpVGhvYW0rMjIwK0pUOWJ2c3lUUTRoays2ZllpZApxK2orUFluNzNTT3ZlUEJQZElRVUVZQmhTR21jV1J1L3IvRFN2MXBINS8vZDNwZFBBYnBINmJaY3ZuRWk1NTZ0CjVIdXh3N2FaUEQ5VEZhSStDZy9qeEhhUTcweWNmNG1ONDdwMDcxQkdxejViQUtzTE1YMUl0ZkR3bzFRRjFJcXEKTkhqMlVCa2dlRk4xWlBQYkJObmxBck1hb3VLT1Q5UkdaZEFURkR6aTNOWWZQSlBaZFZOWXlxcEUrQmpwNE9TZQpCckVudXA5RjNOOGRaelAwWnZac3pwdURBZ01CQUFFd0RRWUpLb1pJaHZjTkFRRUxCUUFEZ2dFQkFGYmQ3OWZPCm4wanVBWW9IM3BZQk1GSDJ0ODRvQTYxWGtjbDNmVDRUeWkrL0UyallNOXh2K3FmTWxMR0hydzNzQ1VDcjVCVGQKWTRQWmN6ajZ6dFlzQUJhUVFIWGFJaXQ2MkppU1I0MDhSNmVNWUc4MWNieVVzTUxLVVhSZXFtdXhvbXVTeW5ObQpJUmw1dGRqUGhLVm5NNU9WNVQ5T0FHaDNWTHhTazdkWGxqSm9MZ256U3R5aVBvY205Mm1oR2hTU2ExR3RKNlZmCmFqb0Jia3pnMHR5UTlnUDV1MDZIaXFieEU4eWFEMWsva29JKzhPYWRFaWExU1ZYMDhxOW9ZSU91L3RwNVEvOGoKUExzWXdvRG95ZzR5SXN5LzlLUFo3dHNQUkk2R1BYQUJjT3FoUHhQNUorZXdQNFVTbjg3bG9NUklSZzZDclAzVgpjY25PRW0veU5ua2Z3VHc9Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K"
---
apiVersion: v1
kind: Secret
metadata:
  name: postgres-replication-cert # {"$kpt-set":"replication-cert-name"}
  namespace: pgo # {"$kpt-set":"namespace"}
type: kubernetes.io/tls
data:
  tls.key: "LS0tLS1CRUdJTiBQUklWQVRFIEtFWS0tLS0tCk1JSUV2UUlCQURBTkJna3Foa2lHOXcwQkFRRUZBQVNDQktjd2dnU2pBZ0VBQW9JQkFRQ3NUbjZSL0NTMHBFVmIKVmdYOGJIN2ErQWlHTEdaTGhscGZPaFRuTHVzQlQzY01zZDE3TVBYTUQwUCtHVWlDV2M3QmVtQml6SnN6Qld3QwpCeEZwRDA4eDlHS1JVN0hIaVd2YmRrci9UR09pQTRLTDIrbk9XMjRYUkpXVDZrK0xNcC9CSkRSYlZsaDRETCsxCkRSVkg1UnpVY29HWWlhL0JpSzhyQi9rYnI2U01pUm1Cd3h5Z00yWkNQWDFPcDV4bTU1Y0l1Vjg1SXVwVlIweXAKMlVZRWltdkVMYWdjNTVDSmZLM2FiMTlYak1xOTlLZ2xMT3BySmdkSVFVOC8reWtkZkl1UjRnUjhEY3ZBOC9jNgpsK2cxbFFhaCtMcCtBdUxMQkVHcnJWR3hjQ0E5STNqU2h0eXBieEpEbWNvQTlhdkVKWGNZam9hWm9lV0s0M2t6ClY3a3pCWkUzQWdNQkFBRUNnZ0VBVmtrOG92aUVuUjJDU2ZuckozeGhqbUFWVExPaFNvTHVjSytTVmk4dHFrdFUKRDd4bWNGR1ZWV256bjZTanBmczVTYlJ4M2lnZU5FK3J4ZHdxUU5WVTBHeFVpL2hBbCs3ZVgxbCt0eGhXOElRWApkTmhjM21UMDNad1AxN0hId2FwSlRCeElSOUVXbm8rcjFRdkhNMml0cGtudFVpanBKZDYvOGFtZGV0cmJhVEJQCno0NzErRjRIeVZUN09zVWhNVWtKNG9XVUR4Mzl1OFdiTEpmdU9nZ2N5SkN2eHdGQURKTEZuR3NHWVFTUVJIbkEKVmxWUWo1Qk9CWUhVdjJFQTI5L3NWMFRQTDlWbVkraWJ5VHhlUkpGZXZ2ejBVNVd4RGt3OE5GUnV0VEQ5SVluTQpPZE4wdTNCU3djRVFFak52dlE0K0pRalBrV3YyN01PK3AxOHNSaVRaV1FLQmdRRGtFYWxKNlY5MUE5eTN5bk5aClpnUXFaMUdLL09RQzUrSjVZaG96TkhrTmJwRFRiNU1DcVc5R1dhYVV0NVR3S2JVT2h4bStTOFEwRXFoZ1E2b24KdllPOTR6ME1pNDNwcmdDeTRJL3BZSVh2cEM0NkNRNFBhenRmc2s1eEthZDhjLzVKaHMxK0MraGF6ekN4RWt0TQowZTFGNHZmZmR0MVphZkFnbW0yMHJGMXhkUUtCZ1FEQmFKZEZyRjRiNHFuSFRmMGxDZjlWSzZIVDl2Wm9uR1ZyCkp0WDZEQUxPZ1pCZzlBNVJ3RnhqcWU4ZndmWnNrLytwZDVjenVwaEFXbnlIeXdNbDY2ZVZuSm5iZEpBWEt5MmQKdHJ5L3preUI1SHN2YmlsL0cyR09JNlRDbkhVQ2RsNVBBZGR4aERTeHZvZnMvNlNYWHNEOFRoejRhZXNpRDhEYgo0Ri9rUk9BV2V3S0JnUUNYWmNYOFk2aFRkR0hqdThnQTA0RDJhU212V3hzOWRwTlh3ckRqeHZTSTN4blMwZUZFClJoZXhHcmhEUnU3ZTBzRDNTT1hrOWtUajBITG5uR05yQ0JwWlJtenpVL3k3NEI5a256L0pTNkw5cHY1czFpLzQKT2xYcXUrSG9xeDhjdFo5YlRkcEJ6MFBLYkhuRlFnQ3NtVHFxUnZZRzZOQWRsLzZvbGZzM2thaGlOUUtCZ0ExUwpTT2tSb0VISGNPNDdYdTVJTEFBUHkwdXdQUFNqb1JDcVVoNnc2UmlVTC8rZGo4YnR1dTlhYXhBQzZoZzhjV1dZCnlSOVZBTnVkMytueWY3c0M2ajRSMVQ4YVhqcGFUUUFKOENJOThXTVkrNnNlcVZrSjU4UkVqRHFqVUNQbFIwV2wKMk5NR3lpSmIvenpCdHZKK0lraStrSnhEbjJCdk9WZHJzdThrRjFNMUFvR0FBTVp3U09EeFJCSFpDamJSR2NiNwpPSXZDWFliZWxmM1dWVGdxb25YSjhyeXNWVzM1T1QxOUJMN0NTVTcrRzhXQjZpdHRDVnZXNHB1QVIrOElJcXJqCkdZbmR4MlpWcVF0VnVKOVd3aFdrN1pUSDJhRUp3dVVOWUxrcFhsbG9oOVlKckN4bGdhZWVCZ1hkOVFQNWRpbVIKS2ZDUGFpZXg0SkdQWTRKOW5rWlROdTQ9Ci0tLS0tRU5EIFBSSVZBVEUgS0VZLS0tLS0K"
  tls.crt: "LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUNyRENDQVpRQ0ZIWUsvZTJudDJFN250U0dVWi84d3RLV3FsNEJNQTBHQ1NxR1NJYjNEUUVCQ3dVQU1BOHgKRFRBTEJnTlZCQU1NQkhKdmIzUXdIaGNOTWpBeE1UQTVNVEl6TmpJNVdoY05NekF4TVRBM01USXpOakk1V2pBVwpNUlF3RWdZRFZRUUREQXR3Y21sdFlYSjVkWE5sY2pDQ0FTSXdEUVlKS29aSWh2Y05BUUVCQlFBRGdnRVBBRENDCkFRb0NnZ0VCQUt4T2ZwSDhKTFNrUlZ0V0JmeHNmdHI0Q0lZc1prdUdXbDg2Rk9jdTZ3RlBkd3l4M1hzdzljd1AKUS80WlNJSlp6c0Y2WUdMTW16TUZiQUlIRVdrUFR6SDBZcEZUc2NlSmE5dDJTdjlNWTZJRGdvdmI2YzViYmhkRQpsWlBxVDRzeW44RWtORnRXV0hnTXY3VU5GVWZsSE5SeWdaaUpyOEdJcnlzSCtSdXZwSXlKR1lIREhLQXpaa0k5CmZVNm5uR2JubHdpNVh6a2k2bFZIVEtuWlJnU0thOFF0cUJ6bmtJbDhyZHB2WDFlTXlyMzBxQ1VzNm1zbUIwaEIKVHovN0tSMThpNUhpQkh3Tnk4RHo5enFYNkRXVkJxSDR1bjRDNHNzRVFhdXRVYkZ3SUQwamVOS0czS2x2RWtPWgp5Z0QxcThRbGR4aU9ocG1oNVlyamVUTlh1VE1Ga1RjQ0F3RUFBVEFOQmdrcWhraUc5dzBCQVFzRkFBT0NBUUVBClBmZDNFSFZZb3lkMUZZbzlZaW8xeVhXRGk4a0pOVkZsb05tNFhILzhMRXJkUlpOL3NMdk5EaFFHWThPNjNIVGQKUkl4dW1SNDRFcGx3R1V5ZUgxZWNwQXFVTWJWM2NoWjY2UTlOU2oyMVhsSTlOejB4OEpGdTdzTmZ3eFZJUmJrbQpEOXphbmdtRWpweTZNTmo3d0FTNGdoTUVhY2JLK0dPMysxWDQ3dzVMYXY4MFc4U0FnVHFObWtwV00vWmZMVDBQCmdTUEEvNmtHNjdXcnl5OGN2UUJWUTJWRXlzVUJFOHZsUXhieWFaYVMxVlY1Q3p3MEpWUTZBcTVxRzZQN3o5RnAKVlQzYU5idC8zOURiY3BkYU05Q2xWeXg2RFFPR0FwaFRyQ1dlcEZ4QUNaVmdybWpyZmIxVW5DTVhuVW5Ta0R6NwpZMUtJN0lvcjFPVVRYS3ZVS1FVRWxnPT0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQo="
